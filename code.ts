let colorPalette = [
    {
        "swatch": "built",
        "colors": [
            {
                "name": "built-white",
                "color": "#ffffff",
                "ratio": "1"
            },
            {
                "name": "built-navy",
                "color": "#0c1733",
                "ratio": "17.71"
            },
            {
                "name": "built-navy-muted",
                "color": "#272f46",
                "ratio": "13.28"
            },
            {
                "name": "built-red",
                "color": "#db351f",
                "ratio": "4.62"
            }
        ]
    },
    {
        "swatch": "rose",
        "colors": [
            {
                "name": "rose-50",
                "color": "#FFE6E6",
                "ratio": "1.19"
            },
            {
                "name": "rose-100",
                "color": "#FFB8BA",
                "ratio": "1.64"
            },
            {
                "name": "rose-200",
                "color": "#FF8B94",
                "ratio": "2.24"
            },
            {
                "name": "rose-300",
                "color": "#FF6874",
                "ratio": "2.81"
            },
            {
                "name": "rose-400",
                "color": "#FB4C58",
                "ratio": "3.35"
            },
            {
                "name": "rose-500",
                "color": "#e93542",
                "ratio": "4.16"
            },
            {
                "name": "rose-600",
                "color": "#D01B28",
                "ratio": "5.43"
            },
            {
                "name": "rose-700",
                "color": "#A30814",
                "ratio": "8.07"
            },
            {
                "name": "rose-800",
                "color": "#750007",
                "ratio": "11.94"
            },
            {
                "name": "rose-900",
                "color": "#470000",
                "ratio": "16.56"
            }
        ]
    },
    {
        "swatch": "orange",
        "colors": [
            {
                "name": "orange-50",
                "color": "#FFF2E6",
                "ratio": "1.1"
            },
            {
                "name": "orange-100",
                "color": "#FFDAB8",
                "ratio": "1.31"
            },
            {
                "name": "orange-200",
                "color": "#FFC48A",
                "ratio": "1.55"
            },
            {
                "name": "orange-300",
                "color": "#FFAE60",
                "ratio": "1.83"
            },
            {
                "name": "orange-400",
                "color": "#FF9A43",
                "ratio": "2.11"
            },
            {
                "name": "orange-500",
                "color": "#fb862d",
                "ratio": "2.46"
            },
            {
                "name": "orange-600",
                "color": "#D16B12",
                "ratio": "3.61"
            },
            {
                "name": "orange-700",
                "color": "#A35200",
                "ratio": "5.58"
            },
            {
                "name": "orange-800",
                "color": "#753900",
                "ratio": "8.97"
            },
            {
                "name": "orange-900",
                "color": "#472200",
                "ratio": "14.03"
            }
        ]
    },
    {
        "swatch": "yellow",
        "colors": [
            {
                "name": "yellow-50",
                "color": "#FFFBE6",
                "ratio": "1.04"
            },
            {
                "name": "yellow-100",
                "color": "#FFF3B8",
                "ratio": "1.12"
            },
            {
                "name": "yellow-200",
                "color": "#FFE88A",
                "ratio": "1.22"
            },
            {
                "name": "yellow-300",
                "color": "#FFDA5C",
                "ratio": "1.36"
            },
            {
                "name": "yellow-400",
                "color": "#FFCA3F",
                "ratio": "1.52"
            },
            {
                "name": "yellow-500",
                "color": "#ffb829",
                "ratio": "1.73"
            },
            {
                "name": "yellow-600",
                "color": "#D19E0E",
                "ratio": "2.44"
            },
            {
                "name": "yellow-700",
                "color": "#A38000",
                "ratio": "3.72"
            },
            {
                "name": "yellow-800",
                "color": "#756000",
                "ratio": "6.12"
            },
            {
                "name": "yellow-900",
                "color": "#473D00",
                "ratio": "10.85"
            }
        ]
    },
    {
        "swatch": "grass",
        "colors": [
            {
                "name": "grass-50",
                "color": "#EFFFE6",
                "ratio": "1.04"
            },
            {
                "name": "grass-100",
                "color": "#D1FCB8",
                "ratio": "1.15"
            },
            {
                "name": "grass-200",
                "color": "#B4F28A",
                "ratio": "1.31"
            },
            {
                "name": "grass-300",
                "color": "#97E35C",
                "ratio": "1.56"
            },
            {
                "name": "grass-400",
                "color": "#7BCE2E",
                "ratio": "1.96"
            },
            {
                "name": "grass-500",
                "color": "#5eb40e",
                "ratio": "2.62"
            },
            {
                "name": "grass-600",
                "color": "#4DA300",
                "ratio": "3.2"
            },
            {
                "name": "grass-700",
                "color": "#3B8B00",
                "ratio": "4.3"
            },
            {
                "name": "grass-800",
                "color": "#2A6D00",
                "ratio": "6.39"
            },
            {
                "name": "grass-900",
                "color": "#1A4700",
                "ratio": "10.8"
            }
        ]
    },
    {
        "swatch": "green",
        "colors": [
            {
                "name": "green-50",
                "color": "#E6FCE9",
                "ratio": "1.08"
            },
            {
                "name": "green-100",
                "color": "#B8F3C2",
                "ratio": "1.26"
            },
            {
                "name": "green-200",
                "color": "#8AE59C",
                "ratio": "1.53"
            },
            {
                "name": "green-300",
                "color": "#5CD178",
                "ratio": "1.94"
            },
            {
                "name": "green-400",
                "color": "#2EB956",
                "ratio": "2.56"
            },
            {
                "name": "green-500",
                "color": "#039b36",
                "ratio": "3.65"
            },
            {
                "name": "green-600",
                "color": "#008D28",
                "ratio": "4.34"
            },
            {
                "name": "green-700",
                "color": "#00791B",
                "ratio": "5.6"
            },
            {
                "name": "green-800",
                "color": "#005F11",
                "ratio": "7.94"
            },
            {
                "name": "green-900",
                "color": "#003F09",
                "ratio": "12.25"
            }
        ]
    },
    {
        "swatch": "teal",
        "colors": [
            {
                "name": "teal-50",
                "color": "#E6FDFE",
                "ratio": "1.06"
            },
            {
                "name": "teal-100",
                "color": "#B9F9FB",
                "ratio": "1.17"
            },
            {
                "name": "teal-200",
                "color": "#8EF2F6",
                "ratio": "1.3"
            },
            {
                "name": "teal-300",
                "color": "#67E8ED",
                "ratio": "1.46"
            },
            {
                "name": "teal-400",
                "color": "#42DCE3",
                "ratio": "1.67"
            },
            {
                "name": "teal-500",
                "color": "#20CED5",
                "ratio": "1.94"
            },
            {
                "name": "teal-600",
                "color": "#0AB8BF",
                "ratio": "2.44"
            },
            {
                "name": "teal-700",
                "color": "#009CA2",
                "ratio": "3.35"
            },
            {
                "name": "teal-800",
                "color": "#007575",
                "ratio": "5.52"
            },
            {
                "name": "teal-900",
                "color": "#004747",
                "ratio": "10.54"
            }
        ]
    },
    {
        "swatch": "sky",
        "colors": [
            {
                "name": "sky-50",
                "color": "#E6FCFF",
                "ratio": "1.06"
            },
            {
                "name": "sky-100",
                "color": "#B8F3FF",
                "ratio": "1.21"
            },
            {
                "name": "sky-200",
                "color": "#8AE7FF",
                "ratio": "1.4"
            },
            {
                "name": "sky-300",
                "color": "#5CD8FF",
                "ratio": "1.65"
            },
            {
                "name": "sky-400",
                "color": "#2EC6FF",
                "ratio": "1.97"
            },
            {
                "name": "sky-500",
                "color": "#05b0fa",
                "ratio": "2.44"
            },
            {
                "name": "sky-600",
                "color": "#0099D1",
                "ratio": "3.24"
            },
            {
                "name": "sky-700",
                "color": "#007FA3",
                "ratio": "4.6"
            },
            {
                "name": "sky-800",
                "color": "#006075",
                "ratio": "7.17"
            },
            {
                "name": "sky-900",
                "color": "#003E47",
                "ratio": "11.8"
            }
        ]
    },
    {
        "swatch": "blue",
        "colors": [
            {
                "name": "blue-50",
                "color": "#E6F2FF",
                "ratio": "1.13"
            },
            {
                "name": "blue-100",
                "color": "#B8DAFF",
                "ratio": "1.45"
            },
            {
                "name": "blue-200",
                "color": "#8AC3FF",
                "ratio": "1.85"
            },
            {
                "name": "blue-300",
                "color": "#62ADFF",
                "ratio": "2.35"
            },
            {
                "name": "blue-400",
                "color": "#4497FD",
                "ratio": "2.96"
            },
            {
                "name": "blue-500",
                "color": "#2d82eb",
                "ratio": "3.82"
            },
            {
                "name": "blue-600",
                "color": "#1369D1",
                "ratio": "5.29"
            },
            {
                "name": "blue-700",
                "color": "#0150A3",
                "ratio": "7.84"
            },
            {
                "name": "blue-800",
                "color": "#003975",
                "ratio": "11.4"
            },
            {
                "name": "blue-900",
                "color": "#002247",
                "ratio": "15.91"
            }
        ]
    },
    {
        "swatch": "violet",
        "colors": [
            {
                "name": "violet-50",
                "color": "#F0ECFF",
                "ratio": "1.16"
            },
            {
                "name": "violet-100",
                "color": "#D7CDFF",
                "ratio": "1.49"
            },
            {
                "name": "violet-200",
                "color": "#C1B3FF",
                "ratio": "1.88"
            },
            {
                "name": "violet-300",
                "color": "#AE9CFF",
                "ratio": "2.33"
            },
            {
                "name": "violet-400",
                "color": "#9D89FF",
                "ratio": "2.82"
            },
            {
                "name": "violet-500",
                "color": "#8f7bf4",
                "ratio": "3.33"
            },
            {
                "name": "violet-600",
                "color": "#6E5AD1",
                "ratio": "5.19"
            },
            {
                "name": "violet-700",
                "color": "#503DA3",
                "ratio": "8.28"
            },
            {
                "name": "violet-800",
                "color": "#352675",
                "ratio": "12.46"
            },
            {
                "name": "violet-900",
                "color": "#1E1347",
                "ratio": "16.94"
            }
        ]
    },
    {
        "swatch": "purple",
        "colors": [
            {
                "name": "purple-50",
                "color": "#F7EAFF",
                "ratio": "1.16"
            },
            {
                "name": "purple-100",
                "color": "#EAC8FF",
                "ratio": "1.48"
            },
            {
                "name": "purple-200",
                "color": "#DCABFF",
                "ratio": "1.86"
            },
            {
                "name": "purple-300",
                "color": "#CF92FF",
                "ratio": "2.28"
            },
            {
                "name": "purple-400",
                "color": "#C17EFF",
                "ratio": "2.73"
            },
            {
                "name": "purple-500",
                "color": "#b36ef7",
                "ratio": "3.24"
            },
            {
                "name": "purple-600",
                "color": "#934ED1",
                "ratio": "4.94"
            },
            {
                "name": "purple-700",
                "color": "#7333A3",
                "ratio": "7.69"
            },
            {
                "name": "purple-800",
                "color": "#531D75",
                "ratio": "11.66"
            },
            {
                "name": "purple-900",
                "color": "#320E47",
                "ratio": "16.29"
            }
        ]
    },
    {
        "swatch": "pink",
        "colors": [
            {
                "name": "pink-50",
                "color": "#FFEAFE",
                "ratio": "1.14"
            },
            {
                "name": "pink-100",
                "color": "#FFC8FA",
                "ratio": "1.41"
            },
            {
                "name": "pink-200",
                "color": "#FFAAF4",
                "ratio": "1.71"
            },
            {
                "name": "pink-300",
                "color": "#FF91EB",
                "ratio": "2"
            },
            {
                "name": "pink-400",
                "color": "#FC7CE0",
                "ratio": "2.31"
            },
            {
                "name": "pink-500",
                "color": "#ef6cd2",
                "ratio": "2.71"
            },
            {
                "name": "pink-600",
                "color": "#D04DB3",
                "ratio": "3.89"
            },
            {
                "name": "pink-700",
                "color": "#A33291",
                "ratio": "6.14"
            },
            {
                "name": "pink-800",
                "color": "#751D6C",
                "ratio": "9.77"
            },
            {
                "name": "pink-900",
                "color": "#470E44",
                "ratio": "14.85"
            }
        ]
    },
    {
        "swatch": "gray",
        "colors": [
            {
                "name": "gray-50",
                "color": "#F6F6F6",
                "ratio": "1.08"
            },
            {
                "name": "gray-100",
                "color": "#E7E7E7",
                "ratio": "1.24"
            },
            {
                "name": "gray-200",
                "color": "#D7D7D7",
                "ratio": "1.44"
            },
            {
                "name": "gray-300",
                "color": "#C7C7C7",
                "ratio": "1.69"
            },
            {
                "name": "gray-400",
                "color": "#B8B8B8",
                "ratio": "1.98"
            },
            {
                "name": "gray-500",
                "color": "#a8a8a8",
                "ratio": "2.38"
            },
            {
                "name": "gray-600",
                "color": "#8A8A8A",
                "ratio": "3.45"
            },
            {
                "name": "gray-700",
                "color": "#6C6C6C",
                "ratio": "5.25"
            },
            {
                "name": "gray-800",
                "color": "#4D4D4D",
                "ratio": "8.45"
            },
            {
                "name": "gray-900",
                "color": "#2F2F2F",
                "ratio": "13.39"
            }
        ]
    },
    {
        "swatch": "slate",
        "colors": [
            {
                "name": "slate-50",
                "color": "#F4F4F7",
                "ratio": "1.1"
            },
            {
                "name": "slate-100",
                "color": "#E0E1E8",
                "ratio": "1.3"
            },
            {
                "name": "slate-200",
                "color": "#CDCED8",
                "ratio": "1.57"
            },
            {
                "name": "slate-300",
                "color": "#BABCC8",
                "ratio": "1.89"
            },
            {
                "name": "slate-400",
                "color": "#A8AAB7",
                "ratio": "2.31"
            },
            {
                "name": "slate-500",
                "color": "#9698a6",
                "ratio": "2.86"
            },
            {
                "name": "slate-600",
                "color": "#7A7C8A",
                "ratio": "4.14"
            },
            {
                "name": "slate-700",
                "color": "#5E606D",
                "ratio": "6.23"
            },
            {
                "name": "slate-800",
                "color": "#43444F",
                "ratio": "9.64"
            },
            {
                "name": "slate-900",
                "color": "#282931",
                "ratio": "14.47"
            }
        ]
    },
    {
        "swatch": "mist",
        "colors": [
            {
                "name": "mist-50",
                "color": "#F3F7F9",
                "ratio": "1.08"
            },
            {
                "name": "mist-100",
                "color": "#DFEAEE",
                "ratio": "1.23"
            },
            {
                "name": "mist-200",
                "color": "#CCDBE2",
                "ratio": "1.42"
            },
            {
                "name": "mist-300",
                "color": "#BACDD5",
                "ratio": "1.64"
            },
            {
                "name": "mist-400",
                "color": "#A9BDC7",
                "ratio": "1.95"
            },
            {
                "name": "mist-500",
                "color": "#99aeb8",
                "ratio": "2.31"
            },
            {
                "name": "mist-600",
                "color": "#7B909A",
                "ratio": "3.33"
            },
            {
                "name": "mist-700",
                "color": "#5E717A",
                "ratio": "5.1"
            },
            {
                "name": "mist-800",
                "color": "#42525A",
                "ratio": "8.12"
            },
            {
                "name": "mist-900",
                "color": "#273237",
                "ratio": "13.14"
            }
        ]
    }
]

function hexToRGB(hex: string) {

  const r = (parseInt(hex.slice(1, 3), 16) / 255);
  const g = (parseInt(hex.slice(3, 5), 16) / 255);
  const b = (parseInt(hex.slice(5, 7), 16) / 255);

  const result = {
    r: r,
    g: g,
    b: b
  }

  return result;
}

function createFigmaStyle(color){
  const style = figma.createPaintStyle() 
  style.name = color.name
//   style.description = color.color;
  // Should I add the contrast ratio to the desciption? We could!
  style.description = color.color + ',' + ' ' + color.ratio;

  const colorRGB: RGB = hexToRGB(color.color)  

  // style.type = "PAINT"
  const paint: SolidPaint = {
      type: "SOLID",
      color: colorRGB
  }

  style.paints = [paint]
}

function makePalette(swatch){
  let swatchPalette =[];
  let baseName = swatch.swatch;
  swatch.colors.forEach(color => {
    // This may need to be updated because I've formatted the object to already add the base name
    // Can probably just remove this line
    // color.name = baseName + '/' + baseName + '-' + color.name;

    // This will likely need to change from 'unshift' to 'push' since I've updated/formatted the object
    swatchPalette.push(color);
  })
  // I actually think this is the only thing that needs to stay for this forEach.
  swatchPalette.forEach(color => createFigmaStyle(color))
}

colorPalette.forEach(swatch => makePalette(swatch));

// Make sure to close the plugin when you're done. Otherwise the plugin will
// keep running, which shows the cancel button at the bottom of the screen.
figma.closePlugin();
