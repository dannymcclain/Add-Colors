let colorPalette = [
  { swatch: 'red', colors:
      [
          {name: '900', color: '#470000'},
          {name: '800', color: '#750007'},
          {name: '700', color: '#A30814'},
          {name: '600', color: '#D01B28'},
          {name: '500', color: '#e93542'},
          {name: '400', color: '#FB4C58'},
          {name: '300', color: '#FF6874'},
          {name: '200', color: '#FF8B94'},
          {name: '100', color: '#FFB8BA'},
          {name: '050', color: '#FFE6E6'},
      ]
  },
  { swatch: 'orange', colors:
      [
          {name: '900', color: '#472200'},
          {name: '800', color: '#753900'},
          {name: '700', color: '#A35200'},
          {name: '600', color: '#D16B12'},
          {name: '500', color: '#fb862d'},
          {name: '400', color: '#FF9A43'},
          {name: '300', color: '#FFAE60'},
          {name: '200', color: '#FFC48A'},
          {name: '100', color: '#FFDAB8'},
          {name: '050', color: '#FFF2E6'},
      ]
  },
  { swatch: 'yellow', colors:
      [
          {name: '900', color: '#473D00'},
          {name: '800', color: '#756000'},
          {name: '700', color: '#A38000'},
          {name: '600', color: '#D19E0E'},
          {name: '500', color: '#ffb829'},
          {name: '400', color: '#FFCA3F'},
          {name: '300', color: '#FFDA5C'},
          {name: '200', color: '#FFE88A'},
          {name: '100', color: '#FFF3B8'},
          {name: '050', color: '#FFFBE6'},
      ]
  },
  { swatch: 'grass', colors:
      [
          {name: '900', color: '#1A4700'},
          {name: '800', color: '#2A6D00'},
          {name: '700', color: '#3B8B00'},
          {name: '600', color: '#4DA300'},
          {name: '500', color: '#5eb40e'},
          {name: '400', color: '#7BCE2E'},
          {name: '300', color: '#97E35C'},
          {name: '200', color: '#B4F28A'},
          {name: '100', color: '#D1FCB8'},
          {name: '050', color: '#EFFFE6'},
      ]
  },
  { swatch: 'green', colors:
      [
          {name: '900', color: '#003F09'},
          {name: '800', color: '#005F11'},
          {name: '700', color: '#00791B'},
          {name: '600', color: '#008D28'},
          {name: '500', color: '#039b36'},
          {name: '400', color: '#2EB956'},
          {name: '300', color: '#5CD178'},
          {name: '200', color: '#8AE59C'},
          {name: '100', color: '#B8F3C2'},
          {name: '050', color: '#E6FCE9'},
      ]
  },
  { swatch: 'teal', colors:
      [
          {name: '900', color: '#004747'},
          {name: '800', color: '#007575'},
          {name: '700', color: '#009CA2'},
          {name: '600', color: '#0AB8BF'},
          {name: '500', color: '#20ced5'},
          {name: '400', color: '#3AE4EB'},
          {name: '300', color: '#5CF4FA'},
          {name: '200', color: '#8AFEFF'},
          {name: '100', color: '#B8FFFF'},
          {name: '050', color: '#E6FFFF'},
      ]
  },
  { swatch: 'sky', colors:
      [
          {name: '900', color: '#003E47'},
          {name: '800', color: '#006075'},
          {name: '700', color: '#007FA3'},
          {name: '600', color: '#0099D1'},
          {name: '500', color: '#05b0fa'},
          {name: '400', color: '#2EC6FF'},
          {name: '300', color: '#5CD8FF'},
          {name: '200', color: '#8AE7FF'},
          {name: '100', color: '#B8F3FF'},
          {name: '050', color: '#E6FCFF'},
      ]
  },
  { swatch: 'blue', colors:
      [
          {name: '900', color: '#002247'},
          {name: '800', color: '#003975'},
          {name: '700', color: '#0150A3'},
          {name: '600', color: '#1369D1'},
          {name: '500', color: '#2d82eb'},
          {name: '400', color: '#4497FD'},
          {name: '300', color: '#62ADFF'},
          {name: '200', color: '#8AC3FF'},
          {name: '100', color: '#B8DAFF'},
          {name: '050', color: '#E6F2FF'},
      ]
  },
  { swatch: 'violet', colors:
      [
          {name: '900', color: '#1E1347'},
          {name: '800', color: '#352675'},
          {name: '700', color: '#503DA3'},
          {name: '600', color: '#6E5AD1'},
          {name: '500', color: '#8f7bf4'},
          {name: '400', color: '#9D89FF'},
          {name: '300', color: '#AE9CFF'},
          {name: '200', color: '#C1B3FF'},
          {name: '100', color: '#D7CDFF'},
          {name: '050', color: '#F0ECFF'},
      ]
  },
  { swatch: 'purple', colors:
      [
          {name: '900', color: '#320E47'},
          {name: '800', color: '#531D75'},
          {name: '700', color: '#7333A3'},
          {name: '600', color: '#934ED1'},
          {name: '500', color: '#b36ef7'},
          {name: '400', color: '#C17EFF'},
          {name: '300', color: '#CF92FF'},
          {name: '200', color: '#DCABFF'},
          {name: '100', color: '#EAC8FF'},
          {name: '050', color: '#F7EAFF'},
      ]
  },
  { swatch: 'pink', colors:
      [
          {name: '900', color: '#470E44'},
          {name: '800', color: '#751D6C'},
          {name: '700', color: '#A33291'},
          {name: '600', color: '#D04DB3'},
          {name: '500', color: '#ef6cd2'},
          {name: '400', color: '#FC7CE0'},
          {name: '300', color: '#FF91EB'},
          {name: '200', color: '#FFAAF4'},
          {name: '100', color: '#FFC8FA'},
          {name: '050', color: '#FFEAFE'},
      ]
  },
  { swatch: 'gray', colors:
      [
          {name: '900', color: '#2F2F2F'},
          {name: '800', color: '#4D4D4D'},
          {name: '700', color: '#6C6C6C'},
          {name: '600', color: '#8A8A8A'},
          {name: '500', color: '#a8a8a8'},
          {name: '400', color: '#B8B8B8'},
          {name: '300', color: '#C7C7C7'},
          {name: '200', color: '#D7D7D7'},
          {name: '100', color: '#E7E7E7'},
          {name: '050', color: '#F6F6F6'},
      ]
  },
  { swatch: 'slate', colors:
      [
          {name: '900', color: '#282931'},
          {name: '800', color: '#43444F'},
          {name: '700', color: '#5E606D'},
          {name: '600', color: '#7A7C8A'},
          {name: '500', color: '#9698a6'},
          {name: '400', color: '#A8AAB7'},
          {name: '300', color: '#BABCC8'},
          {name: '200', color: '#CDCED8'},
          {name: '100', color: '#E0E1E8'},
          {name: '050', color: '#F4F4F7'},
      ]
  },
  { swatch: 'mist', colors:
      [
          {name: '900', color: '#273237'},
          {name: '800', color: '#42525A'},
          {name: '700', color: '#5E717A'},
          {name: '600', color: '#7B909A'},
          {name: '500', color: '#99aeb8'},
          {name: '400', color: '#A9BDC7'},
          {name: '300', color: '#BACDD5'},
          {name: '200', color: '#CCDBE2'},
          {name: '100', color: '#DFEAEE'},
          {name: '050', color: '#F3F7F9'},
      ]
  },
];

function hexToRGB(hex: string) {

  const r = (parseInt(hex.slice(1, 3), 16) / 255);
  const g = (parseInt(hex.slice(3, 5), 16) / 255);
  const b = (parseInt(hex.slice(5, 7), 16) / 255);

  const result = {
    r: r,
    g: g,
    b: b
  }

  return result;
}

function createFigmaStyle(color){
  const style = figma.createPaintStyle() 
  style.name = color.name
  style.description = color.color;
  // Should I add the contrast ratio to the desciption? We could!
  // style.description = color.color, color.ratio;
  
  const colorRGB: RGB = hexToRGB(color.color)  

  // style.type = "PAINT"
  const paint: SolidPaint = {
      type: "SOLID",
      color: colorRGB
  }

  style.paints = [paint]
}

function makePalette(swatch){
  let swatchPalette =[];
  let baseName = swatch.swatch;
  swatch.colors.forEach(color => {
    // This may need to be updated because I've formatted the object to already add the base name
    // Can probably just remove this line
    color.name = baseName + '/' + baseName + '-' + color.name;

    // This will likely need to change from 'unshift' to 'push' since I've updated/formatted the object
    swatchPalette.unshift(color);
  })
  // I actually think this is the only thing that needs to stay for this forEach.
  swatchPalette.forEach(color => createFigmaStyle(color))
}

colorPalette.forEach(swatch => makePalette(swatch));

// Make sure to close the plugin when you're done. Otherwise the plugin will
// keep running, which shows the cancel button at the bottom of the screen.
figma.closePlugin();
